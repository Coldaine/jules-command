# Jules Command — Environment Configuration
# Copy this file to .env and fill in the values.

# ═══════════════════════════════════════════
# Jules API (required)
# ═══════════════════════════════════════════

# Google Cloud API key with Jules API access
JULES_API_KEY=

# ═══════════════════════════════════════════
# GitHub (required)
# ═══════════════════════════════════════════

# GitHub Personal Access Token (repo + pull request scopes)
# Can be loaded from Bitwarden Secrets Manager instead (see below)
GITHUB_TOKEN=

# GitHub org/user to sync repos from
GITHUB_OWNER=

# ═══════════════════════════════════════════
# Bitwarden Secrets Manager (optional)
# If set, GITHUB_TOKEN will be fetched from BWS at startup
# ═══════════════════════════════════════════

# BWS access token
BWS_ACCESS_TOKEN=

# BWS secret ID that holds the GitHub PAT
BWS_GITHUB_SECRET_ID=

# ═══════════════════════════════════════════
# Database
# ═══════════════════════════════════════════

# Path to SQLite database file (default: ./data/jules-command.db)
DB_PATH=./data/jules-command.db

# ═══════════════════════════════════════════
# Polling
# ═══════════════════════════════════════════

# Interval between poll cycles in seconds (default: 120)
POLL_INTERVAL_SECONDS=120

# ═══════════════════════════════════════════
# Stall Detection Thresholds (minutes)
# ═══════════════════════════════════════════

# How long before a session awaiting plan approval is flagged (default: 30)
STALL_PLAN_APPROVAL_MINUTES=30

# How long before a session awaiting user feedback is flagged (default: 30)
STALL_FEEDBACK_MINUTES=30

# How long with no activity before flagging in-progress sessions (default: 15)
STALL_NO_PROGRESS_MINUTES=15

# How long in queue before flagging (default: 10)
STALL_QUEUE_MINUTES=10

# How many repeated errors before flagging (default: 3)
STALL_REPEATED_ERROR_COUNT=3

# ═══════════════════════════════════════════
# Auto-Merge
# ═══════════════════════════════════════════

# Maximum complexity score for auto-merge (0.0-1.0, default: 0.3)
AUTO_MERGE_MAX_COMPLEXITY=0.3

# Maximum lines changed for auto-merge (default: 200)
AUTO_MERGE_MAX_LINES=200

# Maximum files changed for auto-merge (default: 5)
AUTO_MERGE_MAX_FILES=5

# Minimum PR age in hours before auto-merge (default: 2)
AUTO_MERGE_MIN_AGE_HOURS=2
